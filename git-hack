#!/bin/bash
source "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )/helpers/helpers.sh"

echo_intro "CREATING A NEW FEATURE BRANCH IN GIT"

target_branch_name=$1

# Exit with a help screen if parameters are missing.
if [ -z $target_branch_name ]; then
  echo_usage_header
  echo "  git hack [feature branch name]"
  exit_with_error
fi

stash_open_changes
pull_main_branch
create_feature_branch $target_branch_name
restore_open_changes
echo_all_done
