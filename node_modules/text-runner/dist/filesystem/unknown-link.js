"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const absolute_link_1 = require("./absolute-link");
const remove_double_slash_1 = require("./helpers/remove-double-slash");
const unixify_1 = require("./helpers/unixify");
const relative_link_1 = require("./relative-link");
/**
 * A link that isn't known yet whether it is relative or absolute
 */
class UnknownLink {
    constructor(publicPath) {
        this.value = remove_double_slash_1.removeDoubleSlash(unixify_1.unixify(publicPath));
    }
    absolutify(containingFile, publications) {
        if (this.isAbsolute()) {
            return new absolute_link_1.AbsoluteLink(this.value);
        }
        return new relative_link_1.RelativeLink(this.value).absolutify(containingFile, publications);
    }
    /**
     * Returns whether this link is an absolute link
     */
    isAbsolute() {
        return this.value.startsWith("/");
    }
}
exports.UnknownLink = UnknownLink;
//# sourceMappingURL=unknown-link.js.map