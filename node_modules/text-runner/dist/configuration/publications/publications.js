"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const publication_1 = require("./publication");
class Publications extends Array {
    // Creates a new Publications instance based on the given JSON data
    static fromJSON(publicationsData = []) {
        const result = new Publications();
        for (const p of publicationsData) {
            result.push(new publication_1.Publication(p.localPath, p.publicPath, p.publicExtension));
        }
        return result;
    }
    // Returns the publication that matches the given filepath
    forFilePath(filePath) {
        return this.find(publication => publication.publishes(filePath));
    }
    // Returns the publication that applies for the given link
    publicationForLink(link) {
        return this.find(publication => publication.resolves(link));
    }
    // Returns these publications, sorted by public path
    sorted() {
        const sorted = this.sort((a, b) => (a.publicPath > b.publicPath ? -1 : 1));
        return Publications.fromJSON(sorted);
    }
}
exports.Publications = Publications;
//# sourceMappingURL=publications.js.map